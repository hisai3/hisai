<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>TypeScript | 一条咸鱼</title><meta name="author" content="hsiai"><meta name="copyright" content="hsiai"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="typescript 官网3 掘金参考 基础类型any any 即是 top type, 又是 bottom type (它是任何类型的 subtype ) , 这导致 any 基本上就是放弃了任何类型检查. unknown 类型的变量可以赋值给所有类型 （除了never以外）  unknow unknown 是 top type (任何类型都是它的 subtype) 所有类型都可以分配给unkn">
<meta property="og:type" content="article">
<meta property="og:title" content="TypeScript">
<meta property="og:url" content="https://hisai3.github.io/hisai3.github.io/2023/01/14/TypeScript/index.html">
<meta property="og:site_name" content="一条咸鱼">
<meta property="og:description" content="typescript 官网3 掘金参考 基础类型any any 即是 top type, 又是 bottom type (它是任何类型的 subtype ) , 这导致 any 基本上就是放弃了任何类型检查. unknown 类型的变量可以赋值给所有类型 （除了never以外）  unknow unknown 是 top type (任何类型都是它的 subtype) 所有类型都可以分配给unkn">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://static.runoob.com/images/mix/code-wallpaper-18.png">
<meta property="article:published_time" content="2023-01-14T06:31:31.000Z">
<meta property="article:modified_time" content="2023-01-15T07:06:30.874Z">
<meta property="article:author" content="hsiai">
<meta property="article:tag" content="TypeScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://static.runoob.com/images/mix/code-wallpaper-18.png"><link rel="shortcut icon" href="https://gitee.com/hisai/image-bed/raw/master/BlogMedia/favicon.ico"><link rel="canonical" href="https://hisai3.github.io/hisai3.github.io/2023/01/14/TypeScript/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'TypeScript',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-01-15 15:06:30'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="referrer" content="no-referrer" /><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="一条咸鱼" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (false) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://gitee.com/hisai/image-bed/raw/master/BlogMedia/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">65</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">29</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://static.runoob.com/images/mix/code-wallpaper-18.png')"><nav id="nav"><span id="blog-info"><a href="/" title="一条咸鱼"><span class="site-name">一条咸鱼</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">TypeScript</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-01-14T06:31:31.000Z" title="发表于 2023-01-14 14:31:31">2023-01-14</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-01-15T07:06:30.874Z" title="更新于 2023-01-15 15:06:30">2023-01-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/TypeScript/">TypeScript</a></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p><a target="_blank" rel="noopener" href="https://www.tslang.cn/docs/handbook/interfaces.html">typescript 官网3</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/6883432548970545160">掘金参考</a></p>
<h3 id="基础类型"><a href="#基础类型" class="headerlink" title="基础类型"></a>基础类型</h3><h4 id="any"><a href="#any" class="headerlink" title="any"></a>any</h4><blockquote>
<p>any 即是 top type, 又是 bottom type (它是任何类型的 subtype ) , 这导致 any 基本上就是放弃了任何类型检查.</p>
<p>unknown 类型的变量可以赋值给所有类型 （除了<code>never</code>以外）</p>
</blockquote>
<h4 id="unknow"><a href="#unknow" class="headerlink" title="unknow"></a>unknow</h4><blockquote>
<p>unknown 是 top type (任何类型都是它的 subtype)</p>
<p><strong>所有类型</strong>都可以分配给unknown</p>
<p> unknown 类型的变量  <strong>只能</strong> 赋值给 any 和 unknown</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">uncertain</span>: unknown = <span class="string">&#x27;Hello&#x27;</span>!;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">notSure</span>: any = uncertain;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>如果不缩小类型，就无法对 unknown 类型执行任何操作</strong></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getDog</span>(<span class="params"></span>) &#123;</span><br><span class="line"> <span class="keyword">return</span> <span class="string">&#x27;22&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="attr">dog</span>: unknown = <span class="title function_">getDog</span>();</span><br><span class="line">dog.<span class="title function_">hello</span>(); <span class="comment">//Object is of type &#x27;unknown&#x27;</span></span><br></pre></td></tr></table></figure>

<h4 id="类型保护"><a href="#类型保护" class="headerlink" title="类型保护"></a>类型保护</h4><blockquote>
<p>类型保护：缩小类型的范围</p>
</blockquote>
<blockquote>
<p>使用类型断言来缩小范围: </p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">getDogName</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line"> <span class="keyword">let</span> <span class="attr">x</span>: unknown;</span><br><span class="line"> <span class="keyword">return</span> x;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> dogName = <span class="title function_">getDogName</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>((dogName <span class="keyword">as</span> string).<span class="title function_">toLowerCase</span>());</span><br></pre></td></tr></table></figure>

<blockquote>
<p> <strong>in 关键字</strong></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="title class_">Admin</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: string;</span><br><span class="line">  <span class="attr">privileges</span>: string[];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface <span class="title class_">Employee</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: string;</span><br><span class="line">  <span class="attr">startDate</span>: <span class="title class_">Date</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type <span class="title class_">UnknownEmployee</span> = <span class="title class_">Employee</span> | <span class="title class_">Admin</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">printEmployeeInformation</span>(<span class="params">emp: UnknownEmployee</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Name: &quot;</span> + emp.<span class="property">name</span>);</span><br><span class="line">  <span class="keyword">if</span> (<span class="string">&quot;privileges&quot;</span> <span class="keyword">in</span> emp) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Privileges: &quot;</span> + emp.<span class="property">privileges</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="string">&quot;startDate&quot;</span> <span class="keyword">in</span> emp) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Start Date: &quot;</span> + emp.<span class="property">startDate</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>或者用 <em><strong>typeOf</strong></em>  <em><strong>instanceOf</strong></em>  进行校验</p>
<p><strong>注意：</strong><code>typeof</code> 只有和基本类型（<code>number，string，boolean，symbol</code>）通过 <code>===, !==</code> 比较时，才会被识别为类型保护</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params">value: unknown</span>) &#123;</span><br><span class="line">  <span class="comment">// @ts-ignore: Object is of type &#x27;unknown&#x27;.</span></span><br><span class="line">  value.<span class="property">length</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> value === <span class="string">&#x27;string&#x27;</span>) &#123; <span class="comment">// type guard</span></span><br><span class="line">      <span class="comment">// %inferred-type: string</span></span><br><span class="line">      value;</span><br><span class="line"></span><br><span class="line">      value.<span class="property">length</span>; <span class="comment">// OK</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>或者断言函数:</p>
<p>定义一个类型保护，我们只要简单地定义一个函数，它的返回值是一个 <strong>类型谓词</strong></p>
<p><strong>类型谓词</strong>:</p>
<p><code>pet is Fish</code> 就是类型谓词。 谓词为 <code>parameterName is Type</code> 这种形式，<code>parameterName</code> 必须是来自于当前函数签名里的一个参数名</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isFish</span>(<span class="params">pet: Fish | Bird</span>): pet is <span class="title class_">Fish</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (&lt;<span class="title class_">Fish</span>&gt;pet).<span class="property">swim</span> !== <span class="literal">undefined</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="never"><a href="#never" class="headerlink" title="never"></a>never</h4><blockquote>
<p><code>never </code>类型 <code>(bottom type: 即最低层)</code> 是任何类型的子类型，也可以赋值给任何类型；<br>然而，没有类型是never的子类型 <em><strong>或</strong></em>  没有类型可以赋值给never类型（除了never本身之外）。<br>即使 any 也不可以赋值给 never。<br>通常表现为  <code>抛出异常</code>  或  <code>无法执行到终止点</code>（例如无线循环）</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">x</span>: never;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">y</span>: number;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 运行错误，数字类型不能转为 never 类型</span></span><br><span class="line">x = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 运行正确，never 类型可以赋值给 never类型</span></span><br><span class="line">x = (<span class="function">()=&gt;</span>&#123; <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;exception&#x27;</span>)&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 运行正确，never 类型可以赋值给 数字类型</span></span><br><span class="line">y = (<span class="function">()=&gt;</span>&#123; <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;exception&#x27;</span>)&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回值为 never 的函数可以是抛出异常的情况</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">error</span>(<span class="params">message: string</span>): never &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(message);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回值为 never 的函数可以是无限循环这种无法被执行到的终止点的情况</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loop</span>(<span class="params"></span>): never &#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="定义类型：接口interface、class、type"><a href="#定义类型：接口interface、class、type" class="headerlink" title="定义类型：接口interface、class、type"></a>定义类型：接口interface、class、type</h3><h4 id="接口interface"><a href="#接口interface" class="headerlink" title="接口interface"></a>接口interface</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">interface name &#123;</span><br><span class="line">  <span class="attr">label</span>: string; <span class="comment">// 默认必须有</span></span><br><span class="line">  grade!: string; <span class="comment">// !必须</span></span><br><span class="line">  color?: string; <span class="comment">// ?可选属性 可有可无,但不能写错,否则会报错提示</span></span><br><span class="line">  readonly <span class="attr">y</span>: number; <span class="comment">// readonly 只读属性 (跟class一样)</span></span><br><span class="line">  (<span class="attr">source</span>: string, <span class="attr">subString</span>: string): number; <span class="comment">// 函数类型(接口) 就像一个只有参数列表和返回值类型的函数定义。参数列表里的每个参数都需要名字和类型。</span></span><br><span class="line">  [<span class="attr">propName</span>: string]: any; <span class="comment">// 额外类型(可索引类型 规定类型没要求)</span></span><br><span class="line">  [<span class="attr">x</span>: string]: <span class="title class_">Array</span>; <span class="comment">// 可索引类型(接口中所有的key为string, value为Array,否则报错) “通过索引得到值”如：a[10]或ageMap[&quot;daniel&quot;]</span></span><br><span class="line">  <span class="keyword">new</span> (<span class="attr">hour</span>: number, <span class="attr">minute</span>: number); <span class="comment">// 如果签名有前缀new表示这个函数必须要被构造器调用</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>接口的额外类型  <em>error: ‘width’ not expected in type ‘SquareConfig’</em></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">interface student &#123;</span><br><span class="line">  <span class="attr">color</span>: string; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createSquare</span>(<span class="params">config: student</span>): &#123; <span class="attr">color</span>: string &#125; &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(config)</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> mySquare = <span class="title function_">createSquare</span>(&#123; <span class="attr">color</span>: <span class="string">&quot;red&quot;</span>, <span class="attr">width</span>: <span class="number">100</span> &#125;); <span class="comment">// error: &#x27;width&#x27; not expected in type &#x27;SquareConfig&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 解决报错</span></span><br><span class="line"><span class="comment">// 1.使用断言</span></span><br><span class="line"><span class="keyword">let</span> mySquare = <span class="title function_">createSquare</span>(&#123; <span class="attr">color</span>: <span class="string">&quot;red&quot;</span>, <span class="attr">width</span>: <span class="number">100</span> &#125; <span class="keyword">as</span> student);</span><br><span class="line"><span class="comment">// 2.在接口中添加字符串索引</span></span><br><span class="line">interface <span class="title class_">SquareConfig</span> &#123;</span><br><span class="line">    <span class="attr">color</span>: string;</span><br><span class="line">    [<span class="attr">propName</span>: string]: any;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="类类型-implements"><a href="#类类型-implements" class="headerlink" title="类类型 implements"></a>类类型 <strong>implements</strong></h5><blockquote>
<p>( 一种约定，明确的强制一个类去符合某种契约！)</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="title class_">ClockInterface</span> &#123;</span><br><span class="line">    <span class="attr">currentTime</span>: <span class="title class_">Date</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Clock</span> implements <span class="title class_">ClockInterface</span> &#123; <span class="comment">// 实现接口</span></span><br><span class="line">	<span class="comment">// implements 强制要求Clock必须有 ClockInterface接口中的类型 否则报错 Property &#x27;currentTime&#x27; is missing in type &#x27;Clock&#x27;</span></span><br><span class="line">    <span class="attr">currentTime</span>: <span class="title class_">Date</span>; </span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">h: number, m: number</span>) &#123; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="interface中的-new"><a href="#interface中的-new" class="headerlink" title="interface中的 new()"></a><strong>interface</strong>中的 <em><strong>new()</strong></em></h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="title class_">ClockConstructor</span> &#123;</span><br><span class="line">  <span class="keyword">new</span> (<span class="attr">hour</span>: number, <span class="attr">minute</span>: number); <span class="comment">// 如果签名有前缀new表示这个函数必须要被构造器调用</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Clock</span> implements <span class="title class_">ClockConstructor</span> &#123;</span><br><span class="line"><span class="comment">/*报错：Class &#x27;Clock&#x27; incorrectly implements interface &#x27;ClockConstructor&#x27;.</span></span><br><span class="line"><span class="comment">  Type &#x27;Clock&#x27; provides no match for the signature &#x27;new (hour: number, minute: number): any&#x27;.*/</span></span><br><span class="line">  <span class="attr">currentTime</span>: <span class="title class_">Date</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">h: number, m: number</span>) &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 报错原因：类实现接口的时候，只检查实例部分，而类里的constructor属于静态部分，所以不检查</span></span><br><span class="line"><span class="comment">// 解决: class expression</span></span><br><span class="line">interface <span class="title class_">ClockConstructor</span> &#123;</span><br><span class="line">  <span class="keyword">new</span> (<span class="attr">hour</span>: number, <span class="attr">minute</span>: number);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface <span class="title class_">ClockInterface</span> &#123;</span><br><span class="line">  <span class="title function_">tick</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Clock</span>: <span class="title class_">ClockConstructor</span> = <span class="keyword">class</span> <span class="title class_">Clock</span> implements <span class="title class_">ClockInterface</span> &#123; <span class="comment">// 就是指定类型 或按官网事例参数类型检查也可以但复杂</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">h: number, m: number</span>) &#123;&#125;</span><br><span class="line">  <span class="title function_">tick</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;beep beep&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> c =<span class="keyword">new</span> <span class="title class_">Clock</span>(<span class="number">12</span>,<span class="number">4</span>);</span><br></pre></td></tr></table></figure>



<h5 id="接口继承-extends"><a href="#接口继承-extends" class="headerlink" title="接口继承 extends"></a>接口继承 extends</h5><blockquote>
<p>interface  extends  interface  </p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="attr">color</span>: string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface <span class="title class_">PenStroke</span> &#123;</span><br><span class="line">    <span class="attr">penWidth</span>: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface <span class="title class_">Square</span> <span class="keyword">extends</span> <span class="title class_">Shape</span>, <span class="title class_">PenStroke</span> &#123; <span class="comment">// class的继承一次只能继承一个class</span></span><br><span class="line">    <span class="attr">sideLength</span>: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> square = &lt;<span class="title class_">Square</span>&gt;&#123;&#125;;</span><br><span class="line">square.<span class="property">color</span> = <span class="string">&quot;blue&quot;</span>;</span><br><span class="line">square.<span class="property">sideLength</span> = <span class="number">10</span>;</span><br><span class="line">square.<span class="property">penWidth</span> = <span class="number">5.0</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>interface  extends  class  …</p>
</blockquote>
<h4 id="class"><a href="#class" class="headerlink" title="class"></a>class</h4><h5 id="public-private-protected"><a href="#public-private-protected" class="headerlink" title="public,  private,  protected"></a><em><strong>public</strong></em>,  <em>private</em>,  <strong>protected</strong></h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    public <span class="attr">name</span>: string; <span class="comment">// 默认即public</span></span><br><span class="line">	private <span class="attr">name</span>: string; <span class="comment">// 仅仅能在这个类中进行在这个属性的访问。在子类和类的实现的对象中都不能访问</span></span><br><span class="line">    protected <span class="attr">name</span>: string; <span class="comment">// 仅仅能在这个类中或子类中能访问</span></span><br><span class="line">	protected <span class="title function_">constructor</span>(<span class="params">theName: string</span>) &#123; <span class="comment">// 该类只能被继承不能被实现</span></span><br><span class="line">       <span class="variable language_">this</span>.<span class="property">name</span> = theName;</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="interface-和-class-继承注意"><a href="#interface-和-class-继承注意" class="headerlink" title="interface  和 class 继承注意"></a><em><strong>interface</strong></em>  和 <em><strong>class</strong></em> 继承注意</h5><blockquote>
<p><em><strong>interface</strong></em>  和 <em><strong>class</strong></em> 继承大致相同</p>
<table>
<thead>
<tr>
<th></th>
<th>数量</th>
<th>属性重复</th>
<th>接口（类名）重复</th>
</tr>
</thead>
<tbody><tr>
<td>interface</td>
<td>可继承多个</td>
<td>类型不一致会报错</td>
<td>类似于继承</td>
</tr>
<tr>
<td>class</td>
<td>只能继承一个</td>
<td>类型不一致会报错</td>
<td>报错：重复声明</td>
</tr>
</tbody></table>
</blockquote>
<h5 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h5><blockquote>
<p><code>abstract</code>关键字是用于定义  <em><strong>抽象类</strong></em>  和在  抽象类内部定义  <em><strong>抽象方法</strong></em>。</p>
</blockquote>
<p>类似于  <em><strong>类类型</strong></em>  实现接口</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">abstract <span class="keyword">class</span> <span class="title class_">Department</span> &#123;</span><br><span class="line">    abstract <span class="title function_">makeSound</span>(): <span class="keyword">void</span>; <span class="comment">// 必须在派生类(子类)中实现</span></span><br><span class="line">    <span class="title function_">move</span>(): <span class="keyword">void</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;roaming the earch...&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AccountingDepartment</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Department</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(<span class="string">&#x27;Accounting and Auditing&#x27;</span>); <span class="comment">// 在派生类的构造函数中必须调用 super()</span></span><br><span class="line">    &#125;</span><br><span class="line">	<span class="title function_">makeSound</span>(): <span class="keyword">void</span> &#123; &#125;;</span><br><span class="line">    <span class="title function_">move</span>(): <span class="keyword">void</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;The Accounting Department meets each Monday at 10am.&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">generateReports</span>(): <span class="keyword">void</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Generating accounting reports...&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">department</span>: <span class="title class_">Department</span>; <span class="comment">// 允许创建一个对抽象类型的引用</span></span><br><span class="line">department = <span class="keyword">new</span> <span class="title class_">Department</span>(); <span class="comment">// 错误: 不能创建一个抽象类的实例</span></span><br><span class="line">department = <span class="keyword">new</span> <span class="title class_">AccountingDepartment</span>(); <span class="comment">// 允许对一个抽象子类进行实例化和赋值</span></span><br><span class="line">department.<span class="title function_">generateReports</span>(); <span class="comment">// 错误: 方法在声明的抽象类中不存在</span></span><br></pre></td></tr></table></figure>



<h4 id="type-类型别名"><a href="#type-类型别名" class="headerlink" title="type(类型别名)"></a>type(类型别名)</h4><p><strong>与 <em>interface</em> 区别</strong></p>
<blockquote>
<ol>
<li><strong>interface</strong> 只能表示function，object和class类型，<strong>type</strong> 除了这些类型还可以表示其他类型</li>
</ol>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">interface A&#123;<span class="attr">name</span>:string;</span><br><span class="line">            <span class="attr">add</span>:<span class="function">()=&gt;</span><span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line">interface B&#123;():<span class="keyword">void</span>&#125;</span><br><span class="line"> </span><br><span class="line">type C=<span class="function">()=&gt;</span>number;</span><br><span class="line">type D=string;</span><br><span class="line">type E=&#123;<span class="attr">name</span>:string,<span class="attr">age</span>:number&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<ol start="2">
<li><strong>interface</strong> 可以合并同名接口，<strong>type</strong> 不可以</li>
</ol>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">interface A&#123;<span class="attr">name</span>:string&#125;</span><br><span class="line">interface A&#123;<span class="attr">age</span>:number&#125;</span><br><span class="line">interface A&#123; <span class="attr">age</span>: number, <span class="attr">name</span>: number &#125; <span class="comment">// 重新指定类型会报错</span></span><br><span class="line"><span class="keyword">var</span> <span class="attr">x</span>:A=&#123;<span class="attr">name</span>:<span class="string">&#x27;xx&#x27;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<ol start="3">
<li><strong>interface</strong> 可以继承interface，继承type，使用extends关键字，<strong>type</strong> 也可继承type，也可继承interface，使用&amp;</li>
</ol>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">interface A&#123;<span class="attr">name</span>:string&#125;</span><br><span class="line">interface B <span class="keyword">extends</span> A&#123;<span class="attr">age</span>:number&#125;</span><br><span class="line"> </span><br><span class="line">type C=&#123;<span class="attr">sex</span>:string&#125;</span><br><span class="line"> </span><br><span class="line">interface D <span class="keyword">extends</span> C&#123;<span class="attr">name</span>:string&#125;</span><br><span class="line"> </span><br><span class="line">type E=&#123;<span class="attr">name</span>:string&#125;&amp;C</span><br><span class="line"> </span><br><span class="line">type F =&#123;<span class="attr">age</span>:number&#125;&amp;A</span><br><span class="line"></span><br><span class="line"><span class="comment">// interface class 也可以使用 &amp;</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">c</span>: A &amp; B</span><br></pre></td></tr></table></figure>

<blockquote>
<ol start="4">
<li>还有类可以实现接口，也可以实现type</li>
</ol>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">interface A&#123;<span class="attr">name</span>:string;<span class="attr">add</span>:<span class="function">()=&gt;</span><span class="keyword">void</span>&#125;</span><br><span class="line">type B=&#123;<span class="attr">age</span>:number,<span class="attr">add</span>:<span class="function">()=&gt;</span><span class="keyword">void</span>&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> implements A&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;xx&#x27;</span></span><br><span class="line">    <span class="title function_">add</span>(<span class="params"></span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;类实现接口&#x27;</span>)&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span> implements B&#123;</span><br><span class="line">    <span class="attr">age</span>:<span class="number">20</span></span><br><span class="line">    <span class="title function_">add</span>(<span class="params"></span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;类实现type&#x27;</span>)&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 只要参数类型是匹配的，那么就认为它是有效的函数类型，而不在乎参数名是否正确</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">myAdd</span>: <span class="function">(<span class="params">baseValue: number, increment: number</span>) =&gt;</span> number </span><br><span class="line">    myAdd = <span class="keyword">function</span>(<span class="params">x: number, y: number</span>): number &#123; <span class="keyword">return</span> x + y; &#125;; </span><br><span class="line"><span class="comment">// 推断类型 </span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">myAdd</span>: <span class="function">(<span class="params">baseValue: number, increment: number</span>) =&gt;</span> number</span><br><span class="line">    myAdd = <span class="keyword">function</span>(<span class="params">x, y</span>) &#123; <span class="keyword">return</span> x + y; &#125;;</span><br></pre></td></tr></table></figure>



<h3 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h3><h4 id="泛型函数"><a href="#泛型函数" class="headerlink" title="泛型函数"></a>泛型函数</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> identity&lt;T&gt;(<span class="attr">arg</span>: T): T &#123;</span><br><span class="line">    <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 &lt;&gt; 明确的指定 T 是 string 类型</span></span><br><span class="line"><span class="keyword">let</span> output = identity&lt;string&gt;(<span class="string">&quot;myString&quot;</span>);</span><br><span class="line"><span class="comment">// 利用了类型推论 -- 即编译器会根据传入的参数自动地帮助我们确定T的类型：</span></span><br><span class="line"><span class="keyword">let</span> output = <span class="title function_">identity</span>(<span class="string">&quot;myString&quot;</span>); </span><br></pre></td></tr></table></figure>

<p><strong>使用泛型函数时 你必须把这些参数当做是任意或所有类型</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> loggingIdentity&lt;T&gt;(<span class="attr">arg</span>: T): T &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arg.<span class="property">length</span>);  <span class="comment">// Error: T doesn&#x27;t have .length</span></span><br><span class="line">    <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> loggingIdentity&lt;T&gt;(<span class="attr">arg</span>: <span class="title class_">Array</span>&lt;T&gt;): <span class="title class_">Array</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arg.<span class="property">length</span>);  <span class="comment">// Array has a .length, so no more error</span></span><br><span class="line">    <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 相比于操作any所有类型，我们想要限制函数去处理任意带有.length属性的所有类型。 只要传入的类型有这个属性，我们就允许，</span></span><br><span class="line"><span class="comment">// 就是说至少包含这一属性。 </span></span><br><span class="line"><span class="comment">// 为此，我们需要列出对于T的约束要求</span></span><br><span class="line"><span class="comment">// 也可以使用泛型约束 解决:</span></span><br></pre></td></tr></table></figure>



<h4 id="泛型约束0"><a href="#泛型约束0" class="headerlink" title="泛型约束0"></a>泛型约束0</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="title class_">Lengthwise</span> &#123;</span><br><span class="line">    <span class="attr">length</span>: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> loggingIdentity&lt;T <span class="keyword">extends</span> <span class="title class_">Lengthwise</span>&gt;(<span class="attr">arg</span>: T): T &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arg.<span class="property">length</span>);  <span class="comment">// Now we know it has a .length property, so no more error</span></span><br><span class="line">    <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">loggingIdentity</span>(<span class="number">3</span>);  <span class="comment">// Error, number doesn&#x27;t have a .length property</span></span><br><span class="line"><span class="title function_">loggingIdentity</span>(<span class="string">&#x27;12312&#x27;</span>); <span class="comment">// no more error</span></span><br></pre></td></tr></table></figure>



<h4 id="泛型函数的类型"><a href="#泛型函数的类型" class="headerlink" title="泛型函数的类型"></a>泛型函数的类型</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> identity&lt;T&gt;(<span class="attr">arg</span>: T): T &#123;</span><br><span class="line">    <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">myIdentity</span>: &lt;T&gt;<span class="function">(<span class="params">arg: T</span>) =&gt;</span> T = identity;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以使用不同的泛型参数名，只要在数量上和使用方式上能对应上就可以。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> identity&lt;T&gt;(<span class="attr">arg</span>: T): T &#123;</span><br><span class="line">    <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">myIdentity</span>: &lt;U&gt;<span class="function">(<span class="params">arg: U</span>) =&gt;</span> U = identity;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>使用带有调用签名的对象字面量来定义泛型函数</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> identity&lt;T&gt;(<span class="attr">arg</span>: T): T &#123;</span><br><span class="line">    <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">myIdentity</span>: &#123;&lt;T&gt;(<span class="attr">arg</span>: T): T&#125; = identity;</span><br></pre></td></tr></table></figure>



<h4 id="泛型接口"><a href="#泛型接口" class="headerlink" title="泛型接口"></a>泛型接口</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="title class_">GenericIdentityFn</span> &#123;</span><br><span class="line">    &lt;T&gt;(<span class="attr">arg</span>: T): T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> identity&lt;T&gt;(<span class="attr">arg</span>: T): T &#123;</span><br><span class="line">    <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">myIdentity</span>: <span class="title class_">GenericIdentityFn</span> = identity;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 把泛型参数当作整个接口的一个参数</span></span><br><span class="line">interface <span class="title class_">GenericIdentityFn</span>&lt;T&gt; &#123;</span><br><span class="line">    (<span class="attr">arg</span>: T): T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> identity&lt;T&gt;(<span class="attr">arg</span>: T): T &#123;</span><br><span class="line">    <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">myIdentity</span>: <span class="title class_">GenericIdentityFn</span>&lt;number&gt; = identity;</span><br></pre></td></tr></table></figure>

<h4 id="泛型类"><a href="#泛型类" class="headerlink" title="泛型类"></a>泛型类</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">GenericNumber</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="attr">zeroValue</span>: T;</span><br><span class="line">    <span class="attr">add</span>: <span class="function">(<span class="params">x: T, y: T</span>) =&gt;</span> T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myGenericNumber = <span class="keyword">new</span> <span class="title class_">GenericNumber</span>&lt;number&gt;();</span><br><span class="line">myGenericNumber.<span class="property">zeroValue</span> = <span class="number">0</span>;</span><br><span class="line">myGenericNumber.<span class="property">add</span> = <span class="keyword">function</span>(<span class="params">x, y</span>) &#123; <span class="keyword">return</span> x + y; &#125;;</span><br></pre></td></tr></table></figure>





<h3 id="全局声明declare"><a href="#全局声明declare" class="headerlink" title="全局声明declare"></a>全局声明declare</h3><blockquote>
<p>明文件放在项目里的<strong>任意路径&#x2F;文件名</strong>都可以被ts编译器识别, 但实际开发中, 声明变量使用关键字<strong>declare</strong>来表示声明其后面的全局变量的类型</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// packages/global.d.ts</span></span><br><span class="line">declare <span class="keyword">var</span> <span class="attr">__DEV__</span>: boolean</span><br><span class="line">declare <span class="keyword">var</span> <span class="attr">__TEST__</span>: boolean</span><br><span class="line">declare <span class="keyword">var</span> <span class="attr">__BROWSER__</span>: boolean</span><br><span class="line">declare <span class="keyword">var</span> <span class="attr">__RUNTIME_COMPILE__</span>: boolean</span><br><span class="line">declare <span class="keyword">var</span> <span class="attr">__COMMIT__</span>: string</span><br><span class="line">declare <span class="keyword">var</span> <span class="attr">__VERSION__</span>: string</span><br></pre></td></tr></table></figure>

<h4 id="声明文件-d-ts"><a href="#声明文件-d-ts" class="headerlink" title="声明文件 .d.ts"></a>声明文件 .d.ts</h4><blockquote>
<p>为了规避一些奇怪的问题, <strong>推荐放在根目录下</strong></p>
<p>如果”@types&#x2F;“下找不到声明文件, 那么就需要我们自己手写了</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 全局声明应用</span></span><br><span class="line"><span class="comment">// @types/global.d.ts</span></span><br><span class="line">declare <span class="keyword">var</span> <span class="attr">n</span>: number;</span><br><span class="line">declare <span class="keyword">let</span> <span class="attr">s</span>: string;</span><br><span class="line">declare <span class="keyword">const</span> <span class="attr">o</span>: object;</span><br><span class="line">declare <span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">s: string</span>): number;</span><br><span class="line">declare enum dir &#123;</span><br><span class="line">    top,</span><br><span class="line">    right,</span><br><span class="line">    bottom,</span><br><span class="line">    left</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// src/index.ts</span></span><br><span class="line">n = <span class="number">321</span></span><br><span class="line">s = <span class="string">&#x27;文字&#x27;</span></span><br><span class="line"><span class="keyword">let</span> o1 = o;</span><br><span class="line"><span class="title function_">f</span>(<span class="string">&#x27;123&#x27;</span>).<span class="title function_">toFixed</span>();</span><br><span class="line">dir.<span class="property">bottom</span>.<span class="title function_">toFixed</span>();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 报错</span></span><br><span class="line">n = <span class="string">&#x27;312&#x27;</span></span><br><span class="line">s = <span class="number">123</span></span><br></pre></td></tr></table></figure>

<h4 id="declare-namespace"><a href="#declare-namespace" class="headerlink" title="declare namespace"></a><em><strong>declare namespace</strong></em></h4><blockquote>
<p><code>namespace </code>   代表后面的全局变量是一个对象</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @types/global.d.ts</span></span><br><span class="line">declare namespace <span class="title class_">MyPlugin</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="attr">n</span>:number;</span><br><span class="line">    <span class="keyword">var</span> <span class="attr">s</span>:string;</span><br><span class="line">    <span class="keyword">var</span> <span class="attr">f</span>:<span class="function">(<span class="params">s:string</span>)=&gt;</span>number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// src/index.ts</span></span><br><span class="line"><span class="title class_">MyPlugin</span>.<span class="property">s</span>.<span class="title function_">substr</span>(<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line"><span class="title class_">MyPlugin</span>.<span class="property">n</span>.<span class="title function_">toFixed</span>();</span><br><span class="line"><span class="title class_">MyPlugin</span>.<span class="title function_">f</span>(<span class="string">&#x27;文字&#x27;</span>).<span class="title function_">toFixed</span>();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 报错</span></span><br><span class="line"><span class="title class_">MyPlugin</span>.<span class="property">s</span>.<span class="title function_">toFixed</span>();</span><br><span class="line"><span class="title class_">MyPlugin</span>.<span class="property">n</span>.<span class="title function_">substr</span>(<span class="number">0</span>,<span class="number">1</span>);</span><br><span class="line"><span class="title class_">MyPlugin</span>.<span class="title function_">f</span>(<span class="number">123</span>);</span><br></pre></td></tr></table></figure>

<h4 id="修改已存在的全局声明"><a href="#修改已存在的全局声明" class="headerlink" title="修改已存在的全局声明"></a>修改已存在的全局声明</h4><blockquote>
<p>其实我们安装完t<strong>ypescript</strong>, 会自动给我们安装一些系统变量的声明文件, 存在<code>node_modules/typescript/lib</code>下.</p>
<p>如果你要修改<strong>已存在</strong>的全局变量的声明可以这么写, 下面用node下的<code>global</code>举例</p>
<p>全局扩展</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @types/global.d.ts</span></span><br><span class="line">declare <span class="variable language_">global</span> &#123; <span class="comment">// </span></span><br><span class="line">    interface <span class="title class_">String</span> &#123; <span class="comment">// 拓展新方法 </span></span><br><span class="line">        <span class="title function_">hump</span>(<span class="attr">input</span>: string): string;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 注意: 修改&quot;全局声明&quot;必须在模块内部, 所以至少要有 export&#123;&#125;字样, 即：当在 @types/global.d.ts 下不必 export, 其余的都要, 否则报错 </span></span><br><span class="line"><span class="comment">// 不然会报错❌: Augmentations for the global scope can only be directly nested in external modules or ambient module declarations</span></span><br><span class="line"><span class="comment">// 全局范围的扩大仅可直接嵌套在外部模块中或环境模块声明中</span></span><br><span class="line"><span class="keyword">export</span> &#123;&#125; <span class="comment">// </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// src/index.ts</span></span><br><span class="line"><span class="title class_">String</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">hump</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>模块扩展 <em><strong>declare module</strong></em></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/module.ts</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AClass</span> &#123;</span><br><span class="line">    public <span class="attr">a</span>:string;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">a:string</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">a</span> = a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// src/index.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AClass</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./module&#x27;</span>;</span><br><span class="line"></span><br><span class="line">declare <span class="variable language_">module</span> <span class="string">&#x27;./module&#x27;</span> &#123; <span class="comment">// 如果没有这个声明 后面的test都会报错</span></span><br><span class="line">   interface <span class="title class_">AClass</span> &#123; <span class="comment">// 拓展新方法</span></span><br><span class="line">    <span class="attr">test</span>: <span class="function">(<span class="params">b: number</span>) =&gt;</span> number;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">AClass</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">test</span> = (<span class="attr">b</span>: number): <span class="function"><span class="params">number</span> =&gt;</span> &#123; </span><br><span class="line">   <span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">a</span>: <span class="title class_">AClass</span> = &#123;<span class="attr">a</span>: <span class="string">&#x27;1&#x27;</span>, <span class="title function_">test</span>(<span class="attr">b</span>:number): number &#123; <span class="keyword">return</span>&#125;&#125;</span><br></pre></td></tr></table></figure>



<h3 id="类型断言"><a href="#类型断言" class="headerlink" title="类型断言"></a>类型断言</h3><blockquote>
<p>类型断言可以（转换）重写原有的类型</p>
<p>语法：&lt;类型&gt;值 或者 值 as 类型</p>
<p><strong>注意：</strong> 类型断言**不是 **类型转换，断言成一个联合类型中不存在的类型是不允许的</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.</span></span><br><span class="line">interface student &#123;</span><br><span class="line">  <span class="attr">color</span>: string; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createSquare</span>(<span class="params">config: student</span>): &#123; <span class="attr">color</span>: string &#125; &#123;</span><br><span class="line">    <span class="comment">// 使用断言</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(config)</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用断言</span></span><br><span class="line"><span class="keyword">let</span> mySquare = <span class="title function_">createSquare</span>(&#123; <span class="attr">color</span>: <span class="string">&quot;red&quot;</span>, <span class="attr">width</span>: <span class="number">100</span> &#125; <span class="keyword">as</span> student);</span><br><span class="line"><span class="comment">// let mySquare = createSquare(&lt;student&gt;&#123; color: &quot;red&quot;, width: 100 &#125;);</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2.</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span>(<span class="params">num: number | string</span>) &#123;</span><br><span class="line">    (num <span class="keyword">as</span> string) = <span class="string">&#x27;123&#x27;</span> <span class="comment">// ok</span></span><br><span class="line">    (&lt;string&gt;num) = <span class="string">&#x27;123&#x27;</span> <span class="comment">// ok</span></span><br><span class="line">    (num <span class="keyword">as</span> []) <span class="comment">// 报错：断言成一个联合类型中不存在的类型</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="类型推论"><a href="#类型推论" class="headerlink" title="类型推论"></a>类型推论</h3><h4 id="默认类型推导"><a href="#默认类型推导" class="headerlink" title="默认类型推导"></a>默认类型推导</h4><blockquote>
<p>如果没有明确的指定类型，在TypeScript中会依照类型推论的规则推断出一个类型。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="literal">null</span>] <span class="comment">// 此时会将arr推断为 let arr: (number | null)[] </span></span><br><span class="line"><span class="keyword">let</span> seven = <span class="number">7</span>  <span class="comment">// 将seven推断为number</span></span><br><span class="line">seven = <span class="string">&#x27;a&#x27;</span> <span class="comment">// error 不能将类型“&quot;a&quot;”分配给类型“number”。</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果定义时没有被赋值，则会被推断为any类型而不用再受类型检查</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a;</span><br><span class="line">a = <span class="number">1</span>;</span><br><span class="line">a = <span class="string">&#x27;str&#x27;</span></span><br></pre></td></tr></table></figure>



<h4 id="类型推论与内置类型结合"><a href="#类型推论与内置类型结合" class="headerlink" title="类型推论与内置类型结合"></a>类型推论与内置类型结合</h4><h5 id="Partial"><a href="#Partial" class="headerlink" title="Partial"></a>Partial</h5><blockquote>
<p>作用就是将泛型T中的所有属性都转化成可选属性</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">type <span class="title class_">Partial</span>&lt;T&gt; = &#123;</span><br><span class="line">    [p <span class="keyword">in</span> keyof T]? : T[p]</span><br><span class="line">&#125;</span><br><span class="line">interface <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: string,</span><br><span class="line">    <span class="attr">age</span>: number</span><br><span class="line">&#125;</span><br><span class="line">type t = <span class="title class_">Partial</span>&lt;<span class="title class_">Person</span>&gt;; </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 类型推断出来的结果</span></span><br><span class="line"><span class="comment">     type t = &#123;</span></span><br><span class="line"><span class="comment">        name?: string;</span></span><br><span class="line"><span class="comment">        age?: number;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>解析：</p>
<p>上面一行代码的作用就是首先通过 <strong><code>keyof</code> 获取 <code>T</code>中的所有属性，然后使用<code>in</code>遍历，并将值赋值给p</strong>，</p>
<p>后面的<code>?</code>就是将所有的属性都变成可选属性。最后通过<code>T[P]</code>取得相应的属性值。 </p>
<p>当我们将定义的接口通过Partial作用之后，将鼠标放置在t上，此时TypeScript就会将t中的数据类型以及结构推断出来。</p>
</blockquote>
<h5 id="Required"><a href="#Required" class="headerlink" title="Required"></a>Required</h5><blockquote>
<p>与Partial的作用恰好相反，它的主要作用就是将泛型T中的所有属性都转化为必选属性。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">type <span class="title class_">Required</span>&lt;T&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> keyof T]-?: T[P];</span><br><span class="line">&#125;;</span><br><span class="line">interface <span class="title class_">Person</span> &#123;</span><br><span class="line"> name?: string,</span><br><span class="line"> age?: number</span><br><span class="line">&#125;</span><br><span class="line">type t = <span class="title class_">Required</span>&lt;<span class="title class_">Person</span>&gt;; </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">类型推断出的结果</span></span><br><span class="line"><span class="comment"> * type t = &#123;</span></span><br><span class="line"><span class="comment">    name: string;</span></span><br><span class="line"><span class="comment">    age: number;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">const</span> <span class="attr">user</span>: t = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;jan&#x27;</span> <span class="comment">// 类型 &quot;&#123; name: string; &#125;&quot; 中缺少属性 &quot;age&quot;，但类型 &quot;Required&lt;Person&gt;&quot; 中需要该属性。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="Readonly"><a href="#Readonly" class="headerlink" title="Readonly"></a>Readonly</h5><blockquote>
<p>作用: 将泛型T中的所有属性都转化为只读属性</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">type <span class="title class_">Readonly</span>&lt;T&gt; = &#123;</span><br><span class="line"> readonly [P <span class="keyword">in</span> keyof T]: T[P];</span><br><span class="line">&#125;;</span><br><span class="line">interface <span class="title class_">Person</span> &#123;</span><br><span class="line"><span class="attr">name</span>: string,</span><br><span class="line">age?: number</span><br><span class="line">&#125;</span><br><span class="line">type t = <span class="title class_">Readonly</span>&lt;<span class="title class_">Person</span>&gt;; </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">type t = &#123;</span></span><br><span class="line"><span class="comment">   readonly name: string;</span></span><br><span class="line"><span class="comment">   readonly age?: number;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">user</span>: t = &#123;</span><br><span class="line"> <span class="attr">name</span>: <span class="string">&#x27;jan&#x27;</span> </span><br><span class="line">&#125;</span><br><span class="line">user.<span class="property">name</span> = <span class="string">&#x27;jery&#x27;</span><span class="comment">// 无法分配到 &quot;name&quot; ，因为它是只读属性</span></span><br><span class="line">user.<span class="property">age</span> = <span class="number">1</span> <span class="comment">// 无法分配到 &quot;age&quot; ，因为它是只读属性</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>解析: </p>
<p>遍历T中的所有属性并将所有属性都变成readonly属性，从上面的age赋值例子我们也可以观察出只读属性的赋值是发生在初始化接口阶段而不是第一个给属性赋值阶段</p>
</blockquote>
<h5 id="ReturnType"><a href="#ReturnType" class="headerlink" title="ReturnType"></a>ReturnType</h5><blockquote>
<p>作用: 获取函数返回值类型。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Obtain the return type of a function type</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">type <span class="title class_">ReturnType</span>&lt;T <span class="keyword">extends</span> (...<span class="attr">args</span>: any) =&gt; any&gt; = T <span class="keyword">extends</span> (...<span class="attr">args</span>: any) =&gt; infer R ? R : any;</span><br><span class="line"></span><br><span class="line">type t = <span class="title class_">ReturnType</span>&lt;<span class="function">(<span class="params">name: string</span>) =&gt;</span> string | number&gt;</span><br><span class="line"><span class="comment">// ts推断出 type t = string | number</span></span><br></pre></td></tr></table></figure>



<h5 id="Record"><a href="#Record" class="headerlink" title="Record"></a>Record</h5><blockquote>
<p>作用: 允许从联合类型中创建一个新的类型，联合类型中的值作为新类型的属性。使用场景：接口类型声明。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">type <span class="title class_">Record</span>&lt;K <span class="keyword">extends</span> keyof any, T&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> K]: T;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">type <span class="title class_">DepartName</span> = <span class="string">&#x27;grade&#x27;</span> | <span class="string">&#x27;office&#x27;</span> | <span class="string">&#x27;class&#x27;</span> <span class="comment">// string | number | symbol 只能是这三种</span></span><br><span class="line">type <span class="title class_">DepartList</span> = <span class="title class_">Record</span>&lt;<span class="title class_">DepartName</span>, &#123;<span class="attr">id</span>: number&#125;&gt;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> type DepartList = &#123;</span></span><br><span class="line"><span class="comment">    grade: &#123;</span></span><br><span class="line"><span class="comment">        id: number;</span></span><br><span class="line"><span class="comment">    &#125;;</span></span><br><span class="line"><span class="comment">    office: &#123;</span></span><br><span class="line"><span class="comment">        id: number;</span></span><br><span class="line"><span class="comment">    &#125;;</span></span><br><span class="line"><span class="comment">    class: &#123;</span></span><br><span class="line"><span class="comment">        id: number;</span></span><br><span class="line"><span class="comment">    &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">cars</span>: <span class="title class_">DepartList</span> = &#123;</span><br><span class="line">  <span class="attr">grade</span>: &#123;</span><br><span class="line">      <span class="attr">id</span>: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">office</span>: &#123;</span><br><span class="line">      <span class="attr">id</span>: <span class="number">2</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">class</span>: &#123;</span><br><span class="line">      <span class="attr">id</span>: <span class="number">3</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h3><p><strong>“内部模块”现在称做“命名空间”</strong></p>
<p>为了与 <a target="_blank" rel="noopener" href="http://www.ecma-international.org/ecma-262/6.0/">ECMAScript 2015</a>里的术语保持一致，(也就是说 <code>module X &#123;</code> 相当于现在推荐的写法 <code>namespace X &#123;</code>)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Validation.ts</span></span><br><span class="line">namespace <span class="title class_">Validation</span> &#123;</span><br><span class="line">  <span class="keyword">export</span> interface <span class="title class_">StringValidator</span> &#123;</span><br><span class="line">    <span class="title function_">isAcceptable</span>(<span class="attr">s</span>:string): boolean;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//LettersOnlyValidator.ts</span></span><br><span class="line"><span class="comment">/// &lt;reference path=&quot;./Validation&quot; /&gt;</span></span><br><span class="line">namespace <span class="title class_">Validation</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> lettersRegexp = <span class="regexp">/^[A-Za-z]+$/</span>;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">LettersOnlyValidator</span> implements <span class="title class_">StringValidator</span> &#123;</span><br><span class="line">    <span class="title function_">isAcceptable</span>( <span class="attr">s</span>: string ) : boolean &#123;</span><br><span class="line">      <span class="keyword">return</span> lettersRegexp.<span class="title function_">test</span>(s);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ZipCodeValidator.ts</span></span><br><span class="line"><span class="comment">/// &lt;reference path=&quot;./Validation.ts&quot; /&gt;</span></span><br><span class="line">namespace <span class="title class_">Validation</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> numberRegexp = <span class="regexp">/^[0-9]+$/</span>;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">ZipCodeValidatior</span> implements <span class="title class_">StringValidator</span> &#123;</span><br><span class="line">    <span class="title function_">isAcceptable</span>( <span class="attr">s</span>: string ) : boolean &#123;</span><br><span class="line">      <span class="keyword">return</span> s.<span class="property">length</span> === <span class="number">5</span> &amp;&amp; numberRegexp.<span class="title function_">test</span>(s)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Test.ts</span></span><br><span class="line"><span class="comment">///&lt;reference path=&quot;Validator.ts&quot; /&gt;</span></span><br><span class="line"><span class="comment">///&lt;reference path=&quot;LettersOnlyValidator.ts&quot; /&gt;</span></span><br><span class="line"><span class="comment">///&lt;reference path=&quot;ZipCodeValidator.ts&quot; /&gt;</span></span><br><span class="line"><span class="keyword">let</span> strings = [<span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;98502&quot;</span>, <span class="string">&quot;101&quot;</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="attr">validators</span>: &#123; [<span class="attr">s</span>: string ] : <span class="title class_">Validation</span>.<span class="property">StringValidator</span> &#125; = &#123;&#125;;</span><br><span class="line">validators[<span class="string">&quot;ZIP code&quot;</span>] = <span class="keyword">new</span> <span class="title class_">Validation</span>.<span class="title class_">ZipCodeValidator</span>();</span><br><span class="line">validators[<span class="string">&quot;Letters only&quot;</span>] = <span class="keyword">new</span> <span class="title class_">Validation</span>.<span class="title class_">LettersOnlyValidator</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> s <span class="keyword">of</span> strings ) &#123;</span><br><span class="line">  <span class="keyword">for</span>( <span class="keyword">let</span> name <span class="keyword">in</span> validators ) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;&quot;</span><span class="string">&quot; + s + &quot;</span><span class="string">&quot; &quot;</span> + (validators[name]).<span class="title function_">isAcceptable</span>(s) ? <span class="string">&quot;matches&quot;</span> : <span class="string">&quot; does not match &quot;</span> + name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Summery:</span></span><br><span class="line"><span class="comment">//在ts中引用带命名空间的文件，用三斜线指令引入要引用的文件。但貌似在实际开发过程中，我们还是用模块用得比较多。</span></span><br><span class="line"><span class="comment">//引用方式：</span></span><br><span class="line"><span class="comment">// 1.///&lt;reference path=&quot;ZipCodeValidator.ts&quot; /&gt;</span></span><br><span class="line"><span class="comment">// 2.import StringValidator = Validation.StringValidator</span></span><br></pre></td></tr></table></figure>



<h3 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h3><p><strong>“外部模块”现在则简称为“模块”</strong></p>
<h4 id="导出"><a href="#导出" class="headerlink" title="导出"></a>导出</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 任何声明（比如变量，函数，类，类型别名或接口）都能够通过添加export关键字来导出</span></span><br><span class="line"><span class="keyword">export</span> interface <span class="title class_">StringValidator</span> &#123;</span><br><span class="line">    <span class="title function_">isAcceptable</span>(<span class="attr">s</span>: string): boolean;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> numberRegexp = <span class="regexp">/^[0-9]+$/</span>;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出的部分重命名</span></span><br><span class="line"><span class="keyword">export</span> &#123; <span class="title class_">StringValidator</span> <span class="keyword">as</span> mainValidator &#125;;</span><br></pre></td></tr></table></figure>

<h4 id="导入"><a href="#导入" class="headerlink" title="导入"></a>导入</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ZipCodeValidator</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./ZipCodeValidator&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myValidator = <span class="keyword">new</span> <span class="title class_">ZipCodeValidator</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入重命名</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ZipCodeValidator</span> <span class="keyword">as</span> <span class="variable constant_">ZCV</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./ZipCodeValidator&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> myValidator = <span class="keyword">new</span> <span class="title function_">ZCV</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将整个模块导入到一个变量</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> validator <span class="keyword">from</span> <span class="string">&quot;./ZipCodeValidator&quot;</span>;</span><br></pre></td></tr></table></figure>










</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://hisai3.github.io/hisai3.github.io">hsiai</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://hisai3.github.io/hisai3.github.io/2023/01/14/TypeScript/">https://hisai3.github.io/hisai3.github.io/2023/01/14/TypeScript/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://hisai3.github.io/hisai3.github.io" target="_blank">一条咸鱼</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/TypeScript/">TypeScript</a></div><div class="post_share"><div class="social-share" data-image="https://static.runoob.com/images/mix/code-wallpaper-18.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/01/14/%E9%BC%A0%E6%A0%87%E5%B9%BB%E5%BD%B1%E5%8A%A8%E7%94%BB/" title="鼠标幻影动画"><img class="cover" src="https://static.runoob.com/images/mix/code-wallpaper-15.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">鼠标幻影动画</div></div></a></div><div class="next-post pull-right"><a href="/2023/01/14/uniapp%E6%B3%A8%E6%84%8F%E7%82%B9/" title="uniApp开发注意"><img class="cover" src="https://static.runoob.com/images/mix/code-wallpaper-15.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">uniApp开发注意</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://gitee.com/hisai/image-bed/raw/master/BlogMedia/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">hsiai</div><div class="author-info__description">有风听风，有雨看雨</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">65</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">29</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/hisai3"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.</span> <span class="toc-text">基础类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#any"><span class="toc-number">1.1.</span> <span class="toc-text">any</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#unknow"><span class="toc-number">1.2.</span> <span class="toc-text">unknow</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E4%BF%9D%E6%8A%A4"><span class="toc-number">1.3.</span> <span class="toc-text">类型保护</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#never"><span class="toc-number">1.4.</span> <span class="toc-text">never</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%EF%BC%9A%E6%8E%A5%E5%8F%A3interface%E3%80%81class%E3%80%81type"><span class="toc-number">2.</span> <span class="toc-text">定义类型：接口interface、class、type</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3interface"><span class="toc-number">2.1.</span> <span class="toc-text">接口interface</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B1%BB%E7%B1%BB%E5%9E%8B-implements"><span class="toc-number">2.1.1.</span> <span class="toc-text">类类型 implements</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#interface%E4%B8%AD%E7%9A%84-new"><span class="toc-number">2.1.2.</span> <span class="toc-text">interface中的 new()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E7%BB%A7%E6%89%BF-extends"><span class="toc-number">2.1.3.</span> <span class="toc-text">接口继承 extends</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#class"><span class="toc-number">2.2.</span> <span class="toc-text">class</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#public-private-protected"><span class="toc-number">2.2.1.</span> <span class="toc-text">public,  private,  protected</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#interface-%E5%92%8C-class-%E7%BB%A7%E6%89%BF%E6%B3%A8%E6%84%8F"><span class="toc-number">2.2.2.</span> <span class="toc-text">interface  和 class 继承注意</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="toc-number">2.2.3.</span> <span class="toc-text">抽象类</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#type-%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D"><span class="toc-number">2.3.</span> <span class="toc-text">type(类型别名)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">3.</span> <span class="toc-text">函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B"><span class="toc-number">4.</span> <span class="toc-text">泛型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E5%87%BD%E6%95%B0"><span class="toc-number">4.1.</span> <span class="toc-text">泛型函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E7%BA%A6%E6%9D%9F0"><span class="toc-number">4.2.</span> <span class="toc-text">泛型约束0</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E5%87%BD%E6%95%B0%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.3.</span> <span class="toc-text">泛型函数的类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E6%8E%A5%E5%8F%A3"><span class="toc-number">4.4.</span> <span class="toc-text">泛型接口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E7%B1%BB"><span class="toc-number">4.5.</span> <span class="toc-text">泛型类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%A3%B0%E6%98%8Edeclare"><span class="toc-number">5.</span> <span class="toc-text">全局声明declare</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6-d-ts"><span class="toc-number">5.1.</span> <span class="toc-text">声明文件 .d.ts</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#declare-namespace"><span class="toc-number">5.2.</span> <span class="toc-text">declare namespace</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%B7%B2%E5%AD%98%E5%9C%A8%E7%9A%84%E5%85%A8%E5%B1%80%E5%A3%B0%E6%98%8E"><span class="toc-number">5.3.</span> <span class="toc-text">修改已存在的全局声明</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80"><span class="toc-number">6.</span> <span class="toc-text">类型断言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E6%8E%A8%E8%AE%BA"><span class="toc-number">7.</span> <span class="toc-text">类型推论</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E7%B1%BB%E5%9E%8B%E6%8E%A8%E5%AF%BC"><span class="toc-number">7.1.</span> <span class="toc-text">默认类型推导</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E6%8E%A8%E8%AE%BA%E4%B8%8E%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%E7%BB%93%E5%90%88"><span class="toc-number">7.2.</span> <span class="toc-text">类型推论与内置类型结合</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Partial"><span class="toc-number">7.2.1.</span> <span class="toc-text">Partial</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Required"><span class="toc-number">7.2.2.</span> <span class="toc-text">Required</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Readonly"><span class="toc-number">7.2.3.</span> <span class="toc-text">Readonly</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ReturnType"><span class="toc-number">7.2.4.</span> <span class="toc-text">ReturnType</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Record"><span class="toc-number">7.2.5.</span> <span class="toc-text">Record</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-number">8.</span> <span class="toc-text">命名空间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97"><span class="toc-number">9.</span> <span class="toc-text">模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E5%87%BA"><span class="toc-number">9.1.</span> <span class="toc-text">导出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5"><span class="toc-number">9.2.</span> <span class="toc-text">导入</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/02/03/%E5%A4%A7%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/" title="大文件上传"><img src="https://static.runoob.com/images/mix/code-wallpaper-22.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="大文件上传"/></a><div class="content"><a class="title" href="/2023/02/03/%E5%A4%A7%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/" title="大文件上传">大文件上传</a><time datetime="2023-02-03T06:31:31.000Z" title="发表于 2023-02-03 14:31:31">2023-02-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/01/31/dependencies%E5%92%8CdevDependencies%E7%9A%84%E5%8C%BA%E5%88%AB/" title="dependencies和devDependencies的区别"><img src="https://static.runoob.com/images/mix/phpWVg9UN.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="dependencies和devDependencies的区别"/></a><div class="content"><a class="title" href="/2023/01/31/dependencies%E5%92%8CdevDependencies%E7%9A%84%E5%8C%BA%E5%88%AB/" title="dependencies和devDependencies的区别">dependencies和devDependencies的区别</a><time datetime="2023-01-31T03:21:31.000Z" title="发表于 2023-01-31 11:21:31">2023-01-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/01/31/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%E5%BA%93%EF%BC%8C%E6%9C%AC%E5%9C%B0%E8%B0%83%E8%AF%95%20+%20%E5%8F%91%E5%B8%83%E5%88%B0npm/" title="自定义组件库，本地调试 + 发布到npm"><img src="https://fastly.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/index.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="自定义组件库，本地调试 + 发布到npm"/></a><div class="content"><a class="title" href="/2023/01/31/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%E5%BA%93%EF%BC%8C%E6%9C%AC%E5%9C%B0%E8%B0%83%E8%AF%95%20+%20%E5%8F%91%E5%B8%83%E5%88%B0npm/" title="自定义组件库，本地调试 + 发布到npm">自定义组件库，本地调试 + 发布到npm</a><time datetime="2023-01-31T02:21:31.000Z" title="发表于 2023-01-31 10:21:31">2023-01-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/01/14/HEXO%20%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/" title="HEXO 搭建博客"><img src="https://static.runoob.com/images/mix/3DF91CB4-0A60-444F-971D-88A58C4EDBFD.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HEXO 搭建博客"/></a><div class="content"><a class="title" href="/2023/01/14/HEXO%20%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/" title="HEXO 搭建博客">HEXO 搭建博客</a><time datetime="2023-01-14T06:55:31.000Z" title="发表于 2023-01-14 14:55:31">2023-01-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/01/14/Echarts/" title="Echarts"><img src="https://static.runoob.com/images/mix/phpWVg9UN.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Echarts"/></a><div class="content"><a class="title" href="/2023/01/14/Echarts/" title="Echarts">Echarts</a><time datetime="2023-01-14T06:31:31.000Z" title="发表于 2023-01-14 14:31:31">2023-01-14</time></div></div></div></div></div></div></main><footer id="footer" style="background: rgba(0, 0, 0, 0)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By hsiai</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script></div></body></html>